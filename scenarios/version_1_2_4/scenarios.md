# Сценарии (версия 1.2.4)

Изменения после тестирования:
#### Блок "Регистрация и авторизация"
+ Добавлена дна ошибка в email
#### Блок "Главная страница"
+ Добавлен блок про платформу
+ Изменила логику в блоке про театры
+ изменила итог театров и слайдера
#### В конце каждой функции добавлен пункт про меню навигации и переход по кнопке поиска
#### Блок "Театры". Страница всех театров
+ Оценка театра и рейтинг убраны
+ Добавлены пункты про переходы в разделе "Театры"
+ В блоке "Афиша" добавленн пункт про добавление в избранное

## Блок "Регистрация и авторизация" 
### Регистрация пользователя в системе

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на главной странице|Предусловие: Открыта главная страница |  
|1. Пользователь нажимает на кнопку личного кабинета в правом верхнем углу. и попадает на страницу авторизации, где выбивает "Зарегистрироваться"|1. Система открывает страницу авторизации, затем страницу регистрации|
|*1.1 Если пользователь уже зарегистрирован, то он выбирает опцию Авторизации и переходит к сценарию “Авторизация пользователя”*| *1.1 Если пользователь уже зарегистрирован, то он выбирает опцию Авторизации и переходит к сценарию “Авторизация пользователя”*| 
|2. Пользователь заполняет поля: фамилия, имя, email, пароль, подтверждение пароля, нажимает чек-бокс для согласия с правилами сайта и обработки данных, нажимает кнопку “Создать аккаунт”| 2. Система позволяет пользователю создать аккаунт. Система получает данные: фамилия, имя, email, пароль, подтверждение пароля.|
|*2.1 Если поле "Имя" не соответствует требованиям, то под полем пользователь видит ошибки: "Имя должно состоять минимум из 2 букв", "Имя должно состоять максимум из 127 букв","Имя может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|*2.1 Если поле "Имя" не соответствует требованиям, то система выдает ошибки: "Имя должно состоять минимум из 2 букв", "Имя должно состоять максимум из 127 букв", "Имя может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|
|*2.2 Если поле "Фамилия" не соответствует требованиям, то под полем пользователь видит ошибки: "Фамилия должна состоять минимум из 2 букв", "Фамилия должна состоять максимум из 127 букв","Фамилия может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|*2.1 Если поле "Фамилия" не соответствует требованиям, то система выдает ошибки: "Фамилия должна состоять минимум из 2 букв", "Фамилия должна состоять максимум из 127 букв", "Фамилия может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|
|*2.3 Если поле "Email" не соответствует требованиям, то под полем пользователь видит ошибки: "Неверный формат email адреса", "Email может содержать только символы латинского алфавита, цифры и символ @ и точки (не более одной подряд)." "Пользователь с таким email уже зарегистрирован", "Максимальная длина email - 95 символов", "Длина логина (символы до @) должна быть не менее 6 символов", "Длина логина (символы до @) должна быть не более 30 символов", "Длина домена (символы после @) должна быть не более 64 символов", "Данное поле необходимо заполнить".*|*2.3 Если поле "Email" не соответствует требованиям, то система выдает ошибки: "Неверный формат email адреса", "Пользователь с таким email уже зарегистрирован", "Максимальная длина email - 95 символов", "Длина логина (символы до @) должна быть не менее 6 символов", "Длина логина (символы до @) должна быть не более 30 символов", "Длина домена (символы после @) должна быть не более 64 символов", "Данное поле необходимо заполнить".*|
|*2.4 Если поле "Пароль" не соответствуют требованиям, то под полем пользователь видит ошибки: "Пароль должен состоять минимум из 8 символов", "Длина пароля не должна превышать 127 символов", "Пароль может содержать только буквы латинского алфавита, цифры и специальные символы: !@#$%^&* ", "Пароль должен содержать минимум одну букву в верхнем регистре", "Пароль должен содержать минимум одну букву в нижнем регистре", "Пароль должен содержать минимум одну цифру", "Данное поле необходимо заполнить".* |*2.4 Если поле "Пароль" не соответствуют требованиям, то система под полем выдает ошибки: "Пароль должен состоять минимум из 8 символов", "Длина пароля не должна превышать 127 символов", "Пароль может содержать только буквы латинского алфавита, цифры и специальные символы: !@#$%^&* ", "Пароль должен содержать минимум одну букву в верхнем регистре", "Пароль должен содержать минимум одну букву в нижнем регистре", "Пароль должен содержать минимум одну цифру", "Данное поле необходимо заполнить".* |
|*2.5 Если поле "Повторите пароль" не заполнено, то под полем пользователь видит ошибку: "Данное поле необходимо заполнить".*|*2.5 Если поле "Повторите пароль" не заполнено, то под полем система выводит ошибку: "Данное поле необходимо заполнить".*|
|*2.6 Если поле "Пароль" и "Повторите пароль" не совпадают, то под полем "Повторите пароль" пользователь видит ошибки: "Введенные пароли не совпадают".*|*2.6 Если поле "Пароль" и "Повторите пароль" не совпадают, то под полем "Повторите пароль" система выводит ошибки: "Введенные пароли не совпадают".*|
|*2.7 Если пользователь не кликнул на чек-бокс для согласия с правилами сайта и обработки данных, то при нажатии на кнопку "Создать аккаунт" поле с чек-боксом и текстом обводится красной рамкой”*| *2.7 Если чек-бокс не был активирован, то регистрация в системе невозможна. Запрос на создание аккаунта отклоняется и чек-бокс с полем обведен в красную рамку”*|
|3. Пользователь видит модальное окно с текстом “Регистрация прошла успешно! Вы были перенаправлены на страницу авторизации” и кнопку "Ок". После нажатия кнопки "Ок" пользователь переходит на страницу авторизации.|4. Если данные введены верно, система отправляет пакет данных для сохранения в БД и открывает модальное окно с текстом “Регистрация прошла успешно! Вы были перенаправлены на страницу авторизации” и кнопкой "Ок". После нажатия на кнопку "Ок" система закрывает модальное окно и открывает страницу авторизации.|
|**Итог:** Пользователь зарегистрирован в системе|[Прототип страницы регистрации](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=343%3A430&scaling=scale-down-width)|

### Авторизация пользователя в системе

|    Пользовательский сценарий     |    Функциональный сценарий    |
|----------------------------------|-------------------------------|
|Предусловие: Пользователь на главной странице|Открыта главная страница|  
|1. Пользователь нажимает на кнопку личного кабинета в правом верхнем углу и попадает на страницу авторизации|1. Система открывает страницу авторизации|
|*2.1 Если пользователь еще не зарегистрирован, то переходит к сценарию “Регистрация пользователя в систему”*| *Система открывает страницу авторизации, по запросу* |
|2. Пользователь вводит email и пароль, затем нажимает на кнопку "Войти"|2. Система получает e-mail и пароль и делает проверку данных|
|*2.1 Если поле "Email" не соответствует требованиям, то под полем пользователь видит ошибки: "Неверный формат email адреса", "Email может содержать только символы латинского алфавита, цифры и символ @ и точки (не более одной подряд)." "Пользователь с таким email уже зарегистрирован", "Максимальная длина email - 95 символов", "Длина логина (символы до @) должна быть не менее 6 символов", "Длина логина (символы до @) должна быть не более 30 символов", "Длина домена (символы после @) должна быть не более 64 символов", "Данное поле необходимо заполнить".*|*2.1 Если поле "Email" не соответствует требованиям, то система выдает ошибки: "Неверный формат email адреса", "Пользователь с таким email уже зарегистрирован", "Максимальная длина email - 95 символов", "Длина логина (символы до @) должна быть не менее 6 символов", "Длина логина (символы до @) должна быть не более 30 символов", "Длина домена (символы после @) должна быть не более 64 символов", "Данное поле необходимо заполнить".*|
|*2.2 Если поле "Пароль" не заполнено, то под полем пользователь видит ошибку: "Данное поле необходимо заполнить".*|*2.2 Если поле "Пароль" пустое, то система выдает ошибку: "Данное поле необходимо заполнить".*|
|*2.3 Если поле "Email" или "Пароль" введены неверно, то под полем пользователь видит ошибку: "Не удается войти. Неверный логин или пароль.".*|*2.3  Если поле "Email" или "Пароль" введены неверно, то система выдает ошибку: "Не удается войти. Неверный логин или пароль.".*|
|3. Пользователь успешно авторизован и видит страницу личного кабинета, раздел "Мои покупки". В разделе написан текст "Нет купленных билетов" и кнопка "Купить билет". Нажав на кнопку, пользователь перейдет в раздел "Расписание"| 4. Система входит в аккаунт пользователя. Открывает страницу личного кабинета, раздел "Мои покупки". В разделе выводит текст "Нет купленных билетов" и кнопка "Купить билет". Через кнопку "Купить билет" осуществляется переход в раздел "Расписание"|
|*3.1 Если у пользователя уже есть покупки, то он видит остортированный по дате и времени оплаты список билетов. В списке указаны: название спектакля, театр, дата и время, сумма оплаты и код для получения билета в кассе.*|*3.2 Если система находит у пользователя купленные билеты, сортирует их список по дате и времени оплаты. В списке указаны: название спектакля, театр, дата и время, сумма оплаты и код для получения билета в кассе.*|
|**Итог:** Пользователь авторизовался в системе|[Прототип страницы авторизации](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=343%3A447&scaling=scale-down-width)|

### Выход из аккаунта

|    Пользовательский сценарий     |    Функциональный сценарий    |
|----------------------------------|-------------------------------|
|Предусловие: Пользователь авторизован на сайте|Предусловие: Пользователь авторизован в системе| 
|1. Пользователь наводит курсор на кнопку личного кабинета. Появляется блок-окно для быстрого перехода в: профиль, мои покупки, избранное, мои отзывы, выход. |1. При попадании курсора в область кнопки личного кабинета, система открывает блок-окно для быстрого перехода в: профиль, мои покупки, избранное, мои отзывы, выход.|
|2. Пользователь нажимает кнопку "Выйти" и видит модальное окно с текстом "Хотите выйти?" и кнопками "Да" и "Нет"|2. Система открывает модальное окно для подтверждения выхода из системы с текстом "Хотите выйти?" и кнопками "Да" и "Нет"|
|3. Если пользователь выбирает "Да", то модальное окно закрывается и пользователь переходит на главную страницу. При наведении курсора на кнопку личного кабинета блок-окно не будет появляться. |3. Система выходит из личного кабинета пользователя, закрывает модальное окно и переходит на главную страницу. При наведении курсора на кнопку личного кабинета система не открывает блок-окно.|
|4. Если пользователь выбирает "Нет", то модальное окно закрывается и пользователь остается на прежней странице. При наведении курсора на кнопку личного кабинета блок-окно будет появляться.|3. Система не выходит из личного кабинета, закрывает модальное окно. При наведении курсора на кнопку личного кабинета система открывает блок-окно.|
|*Итог: пользователь вышел из аккаунта*|[Прототип страницы выхода из аккаунта. Надо навести на кнопку личного кабинета](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=244%3A122&scaling=scale-down-width)|

## Блок "Главная страница"

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на главной странице|Предусловие: Открыта главная страница|
|1. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, страница опускается вниз к разделу поиска мероприятия.|1. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система опускает страницу к полю поиска.|
|*1.1 Нажимая на разделы: логотип, расписание, театры, личный кабинет, пользователь переходит на другую страницу. Нажимая на кнопку поиска, страница опускается к блоку поиска с фильтрацией.*|*1.1 Нажимая на разделы: логотип, расписание, театры, личный кабинет, система открывает другую страницу. Нажимая на кнопку поиска, система опускает страницу к блоку поиска с фильтрацией.*|
|*1.2 Если пользователь авторизован, то при наведении курсора на кнопку личного кабинета появляется блок-окно для быстрого перехода в: профиль, мои покупки, избранное, мои отзывы, выход. При нажатии на кнопку личного кабинета, пользователь переходит в личный кабинет к разделу "Мои покупки".*|*1.2 Если пользователь авторизован в системе, то при попадании курсора в область кнопки личного кабинета, система открывает блок-окно для быстрого перехода в: профиль, мои покупки, избранное, мои отзывы, выход. Через кнопку личного кабинета система позволет переходить в личный кабинет к разделу "Мои покупки"*|
|*1.3 Если пользователь не авторизован, то при наведении курсора на кнопку личного кабинета блок-окно не появляется. При нажатии на кнопку, пользователь переходит на страницу авторизации.*|*1.3 Если пользователь не авторизован в системе, то при попадании курсора в область кнопки личного кабинета модальное окно не появляется. Через кнопку личного кабинета система позволяет переходить на страницу авторизации.*|
|2. Пользователь под меню навигации видит слайдер. Смотреть сценарий "Главная страница, слайдер".|2. При открытии главной страницы система запускает слайдер. Смотреть сценарий "Главная страница, слайдер".|
|3. Ниже меню навигации и слайдера, пользователь видит блок с названием, описанием платформы и кнопку "Перейти в расписание". Нажав на кнопку "Перейти в расписание", пользователь попадает на страницу расписания.|3. Система отображает блок с названием, описанием платформы и кнопку "Перейти в расписание". Система позволяет переходить на страницу расписания через кнопку "Перейти в расписание".|
|4. Ниже слайдера и блока про платформу, пользователь видит блок "Театры", где представлены фото, информация о театре и кнопка "Подробнее". Нажав на название театра или кнопку "Подробнее", пользователь попадает на страницу театра.|4. Система отображает блок "Театры", где есть фото, информация о театре и кнопка "Подробнее". Система позволяет переходить на страницу театра через гиперссылку в названии театра или кнопку "Подробнее".|
|5. Ниже раздела "Театры" есть функция поиска события с фильтрацией. Пользователь может вводить текст в поле поиска, выбирать театр через кнопку "Выберите театр", выбирать дату через календарик справа. После выбора фильтров пользователь нажимает кнопку "Найти". Открывается страница раздела "Расписание" с результатами поиска по данным параметрам.|5. Система отображает панель поиска с фильтрацией: поле для ввода, кнопку с выбором театра, кнопку календаря для выбора даты и кнопку "Найти". После запроса на поиск и считывания данных, система открывает страницу раздела "Расписание" и отображает результаты по параметрам поиска.|
|*5.1 При нажании на кнопку "Выберите театр" открывается блок-окно со списком тетров (первая кнопка в блок-окне "Все"). Если пользователь не выбирает театр, то в результатах поиска видит результаты по всем театрам*|*5.1 При нажании на кнопку "Выберите театр" система открывает блок-окно со списком тетров (первая кнопка в модальном окне "Все"). Если театр не выбран, то по умолчанию поиск проходит по всем театрам*|
|*5.2 При нажании на календарь открывается блок-окно с календарем текущего и возможностью выбора месяца. Если пользователь не выбирает дату, то в результатах видит результаты по всем датам*|*5.2 При нажании на календарь система открывает блок-окно с календарем на текущий  и возможностью выбора другого месяц. Если дата не выбрана, то по умолчанию поиск проходит по всем датам*|
|6. В конце страницы пользователь видит слева меню навигации, через которое можно переходить в другие разделы. Справа располагается контактная информация о владельцах платформы|6. В конце страницы слева система отображает меню навигации, где есть гиперссылки для перехода в другие разделы. Справа располагается контактная информация о владельцах платформы|
|*Итог: Пользователь видит премьеры в слайдере, может переходить на страницу театра и искать мероприятие.*|[Прототип главной страницы](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=161%3A0&scaling=scale-down-width)|

### Главная страница, слайдер

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на главной странице|Предусловие: Открыта главная страница|
|1. Пользователь под меню навигации видит слайдер, состоящий из n-го карточек состоящих из фото события, названия и описания события и кнопки "Купить билет". Нажимая на кнопку "Купить билет", пользователь переходит на страницу выбора даты и мест в зале. Нажимая на название карточки, пользователь переходит на страницу описания спектакля.|1. При открытии главной страницы система запускает слайдер состоящий из фото события, его названия, описания и кнопки "Купить билет" с гиперссылкой на страницу выбора даты спектакля и мест в зале. Через название карточки система позволяет перейти на страницу описания спектакля.|
|*1.1 В описании события пользователь видит первые N строк, в конце последней строки троеточие.*|*1.1 Система отображает в описании события первые N строк, в конце последней строки ставит троеточие.*|
|2.  Если курсор не находится на слайдере, то пользователь видит смену карточек через каждые 5 секунд. После последней карточки показ начинается заново.|2. Если курсор не находится в зоне слайдера, то система автоматически переключает карточки через 5 секунд. После окончания показа всех карточек, система начинает показ заново.|
|*2.1 Если курсор попадает в зону слайдера, то пользователь показ приостанавливается. Пользователь видит карточку спектакля, пока курсор находится в зоне слайдера.*|*2.1 Если курсор попадает в зону слайдера, то система останавливает показ карточек, пока курсор находится в зоне слайдера.*|
|3. Пользователь может сам переключать карточки, нажав на стрелочки <>, либо на кнопки внизу.|3. По запросу пользователя, система может переключать карточки до истечения времени.|
|*3.1 Если пользователь, просматривая первую карточку, нажимает кнопку "<", то открывается последняя карточка слайдера.*|*3.1 Если система, показывая первую карточку, получает запрос на отображение предыдущей карточки, то открывает последнюю карточку слайдера.*|
|*3.2 Если пользователь, просматривая последнюю карточку, нажимает кнопку ">", то открывается первая карточка слайдера.*|*3.2 Если система, показывая последнюю карточку, получает запрос на отображение следующей карточки, то открывает первую карточку слайдера.*|
|*Итог: Пользователь видит премьеры в слайдере, может их переключать и останавливать показ.*|[Прототип главной страницы](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=161%3A0&scaling=scale-down-width)|

## Блок "Личный кабинет"

### Просмотр избранного

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь в личном кабинете|Предусловие: Открыта страница личного кабинета|
|1. Пользователь переходит в раздел "Избранное"|1. Система проверяет наличие избранных спектаклей у пользователя и открывает страницу "Избранное"|
|2. Пользователь видит карточки спектаклей с индикатором "избранное" в правом верхнем углу. В карточке отражено: фото, количество звезд, "Оценка зрителей" в формате 0.00, общее количество голосов, название спектакля, кнопка "Описание" и "Отзывы", театр, год, художник-постановщик, режиссер-постановщик, продолжительность.|2. Система отображает спектакли, привязанные к id пользователя с индикатором "Избранное". В карточке отражено: фото, количество звезд, "Оценка зрителей" в формате 0.00, общее количество голосов, название спектакля, кнопка "Описание" и "Отзывы", театр, год, художник-постановщик, режиссер-постановщик, продолжительность.|
|*2.1 Если избранных спектаклей нет, то есть кнопка "Добавить в избранное". При нажатии пользователь переходит в раздел "Расписание"*|*2.1 Если система не находит избранные спектакли, то открывает страницу с кнопкой, которая позволяет переходит на страницу "Расписание"*|
|3. Пользователь может удалять спектакли из избранного. Нажав на индикатор "избранное", появляется модальное окно с текстом "Вы действительно хотите удалить "Спектакль_1" из избранного?" и кнопками "Да", "Нет".|3. Если пользователь хочет изменить индикатор на "не избранное", то система открывает модальное окно с текстом "Вы действительно хотите удалить "Спектакль_1" из избранного?" и кнопками "Да", "Нет".|
|*3.1 Если пользователь подтверждает удаление, то индикатор меняет цвет и карточка исчезает из раздела "Избранное".*|*3.1 Если удаление подтверждено, то система меняет цвет индикатора, убирает карточку из раздела "Избранное" и удаляет данные из БД*|
|*3.2 Если пользователь не подтверждает удаление, то индикатор не меняет цвет и карточка остается в разделе "Избранное"*|*3.2 Если удаление не подтверждено, то система не меняет цвет индикатора, карточку остается в разделе "Избранное"*|
|4. Пользователь через карточку спектакля может переходить на страницу описания спектакля.|4. Система отображает карточки спектаклей с гиперссылкой на страницу описания спектакля.|
|5. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|5. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: пользователь может добавлять, удалять карточки спектаклей из раздела "Избранное". Может быстро переходить на страницу описания спектакля.*|[Прототип страницы избранного](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=247%3A80&scaling=scale-down-width)|

### Мои покупки

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь в личном кабинете|Предусловие: Открыта страница личного кабинета|
|1. Пользователь переходит в раздел "Мои покупки"|1. Система проверяет наличие купленных билетов у пользователя и открывает страницу "Мои покупки"|
|*1.1 Если билетов нет, то в окне написан текст "Нет купленных билетов" и кнопка "Купить билет". Нажав на кнопку, пользователь перейдет в раздел "Расписание"*|*1.1 Если билетов нет, то система выводит в окне текст "Нет купленных билетов" и кнопку "Купить билеты" с гиперссылкой на раздел "Расписание"*|
|2. Пользователь видит остортированный по дате и времени оплаты список билетов. В списке указаны: название спектакля, театр, дата и время, сумма оплаты и код для получения билета в кассе.|2. Система автоматически сортирует билеты по дате в обратном порядке. В списке указаны: название спектакля, театр, дата и время, сумма оплаты и код для получения билета в кассе.|
|*2.1 Поле с кодом билета различаются по цвету. После покупки, (до спектакля) поле с кодом желтого цвета. Если спектакль прошел, то пользователь видит поле с кодом зеленым цветом.*|*2.1 Поле с кодом билета различаются по цвету. После покупки (до спектакля) система присваивает полю с кодом желтый цвет. Если спектакль прошел, то система присваивает полю с кодом зеленый цвет.*|
|3. Пользователь может переходить на страницу спектакля по клику на название|3. Система позволяет переходить на страницу спектакля через его название|
|4. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|4. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: Пользователь видит список купленных билетов*|[Прототип страницы покупок пользователя](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=244%3A122&scaling=scale-down-width)|

### Мои отзывы

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь в личном кабинете|Предусловие: Открыта страница личного кабинета|
|1. Пользователь переходит в раздел "Мои отзывы"|1. Система проверяет наличие отзывов к событиям у пользователя и открывает страницу "Мои отзывы"|
|*1.1 Если отзывов нет, то написан текст "Нет отзывов".*|*1.1 Если билетов нет, то система выводит текст "Нет отзывов".*|
|2. Пользователь видит остортированный по дате и времени список отзывов. В отзыве указано: название спектакля, театр, количество звезд,  дата, текст отзыва. |2. Система автоматически сортирует отзывы по дате в обратном порядке. В отзыве указано: название спектакля, театр, количество звезд,  дата, текст отзыва. |
|*2.1 В описание отзыва пользователь видит весь отзыв.*|*2.1 Система отображает весь текст отзыва.*|
|3. Пользователь может переходить на страницу спектакля по клику на название.|3. Система позволяет переходить на страницу спектакля через его название.|
|4. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|4. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: Пользователь видит список купленных билетов*|[Прототип страницы с отзывами пользователя](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=254%3A78&scaling=scale-down-width)|

## Блок "Театры"

### Страница всех театров

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице театров|Предусловие: Открыта страница театров|
|1. Пользователь видит список карточек театров. В карточке отображено: фото, название, адрес, телефон для справок, описание театра и кнопка "Подробнее". Нажав на кнопку "Подробнее" или на название театра, пользователь переходит на страницу театра|1. Система отображает список карточек с содержанием: фото, название, адрес, телефон для справок, описание театра и кнопка "Подробнее". Система позволяет переходить на страницу театра, нажав на название театра или на кнопку "Подробнее"|
|*1.1 В описании театра пользователь видит только первые N строчек. В конце последней строки ставится троеточие*|*1.1 В описании театра система отражает только первые N строк. В конце последней строки ставится троеточие*|
|2. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|2. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: пользователь может выбрать театр и перейти на его страницу*|[Прототип страницы театров](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=165%3A55&scaling=scale-down-width)|

### Страница театра, о театре

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице театра|Предусловие: Открыта страница театра|
|1. Пользователь видит название театра, ниже (на одном уровне) разделы: о театре, афиша, залы театра, контакты. Пользователь видит, что выбран раздел "О театре" и информацию о театре ниже.|1. При переходе на страницу театра система по умолчанию открывает раздел "О театре" Система отображает название театра и разделы: о театре, афиша, залы театра, контакты. Система позволяет переходить в эти разделы.|
|2. Пользователь может переходить в разделы театра "Афиша", "Залы театра", "Контакты".|2. Система позволяет переходит в разделы театра со спектаклями, залы театра и контакты через кнопки "Афиша", "Залы театра", "Контакты".|
|3. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|3. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: пользователь может изучить информацию о театре и перейти в другие разделы театра*|[Прототип страницы театра и "О театре"](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=169%3A141&scaling=scale-down-width)|

### Страница театра, Афиша

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице театра|Предусловие: Открыта страница театра|
|1. Пользователь нажимает на раздел "Афиша" и переходит на страницу раздела.|1. Система открывает страницу раздела театра "Афиша".|
|2. Пользователь видит заголовок "Сейчас идет" и список карточек событий. Карточки располагаются по N штук в строке. Количество строк не ораничено|2. Система отображает заголовок "Сейчас идет" и список карточек событий, по N штук в строке. Количество строк не ораничено|
|3. В карточке пользователь видит: фото, индикатор "избранное", название,"Оценка зрителей" в формате 0.00, общее количество отзывов, количество звезд и кнопка "Купить билеты". Пользователь переходит на страницу выбора даты и мест в зале, нажав на кнопку "Купить билеты"|3. В карточке события система отображает: фото, индикатор "избранное", название, "Оценка зрителей" в формате 0.00, общее количество отзывов, количество звезд и кнопка "Купить билеты". Система позволяет переходить на страницу выбора даты и мест в зале через кнопку "Купить билеты".|
|4. Пользователь может добавлять спектакль в избранное, нажав на индикатор "Избранное" в правом верхнем углу. После нажатия на индикатор, его цвет меняется, а спектакль добавляется в раздел "Избранное" в личном кабинете.|4. Система добавляет спектакль в раздел "Избранное" в личном кабинете и меняет цвет индикатора.|
|*4.1 Если пользователь не авторизован, то, после нажатия на индикатор "Избранное", пользователь видит модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|*4.1 Если пользователь не авторизован, то, система не добавляет спектакль в избранное. Открывает модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|
|5. Пользователь может переходить в разделы театра "Афиша", "Залы театра", "Контакты".|5. Система позволяет переходит в разделы театра со спектаклями, залы театра и контакты через кнопки "Афиша", "Залы театра", "Контакты".|
|6. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|6. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: пользователь может ознакомиться с событиями театра, добавить спектакль в избранное и перейти к покупке билета*|[Прототип страницы "Афиша"](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=460%3A423&scaling=scale-down-width)|

### Страница театра, Залы театра

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице театра|Предусловие: Открыта страница театра|
|1. Пользователь нажимает на раздел "Залы театра" и переходит в этот раздел|1. Система открывает страницу раздела театра "Залы театра"|
|2. Пользователь видит название, фото и описание зала. Переходов на другие страницы нет.|2. Система отображает название, фото и описание зала. Переходов на другие страницы нет.|
|3. Пользователь может переходить в разделы театра "Афиша", "Залы театра", "Контакты".|3. Система позволяет переходит в разделы театра со спектаклями, залы театра и контакты через кнопки "Афиша", "Залы театра", "Контакты".|
|4. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|4. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: пользователь может посмотреть и изучить информацию о залах театра*|[Прототип страницы "Залы театра"](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=460%3A490&scaling=scale-down-width)|

### Страница театра, Контакты

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице театра|Предусловие: Открыта страница театра|
|1. Пользователь нажимает на раздел "Контакты" и переходит в этот раздел|1. Система открывает страницу раздела театра "Контакты"|
|2. Пользователь видит заголовок "Контакты", контактную информацию о театре. Переходов на другие страницы нет.|2. Система отображает заголовок "Контакты", контактную информацию о театре. Переходов на другие страницы нет.|
|3. Пользователь может переходить в разделы театра "Афиша", "Залы театра", "Контакты".|3. Система позволяет переходит в разделы театра со спектаклями, залы театра и контакты через кнопки "Афиша", "Залы театра", "Контакты".|
|4. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, открывается страница блока "Расписание" и опускается к блоку поиска.|4. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система открывает страницу раздела "Расписание" и опускает страницу к полю поиска.|
|*Итог: пользователь может узнать контакты и расположение театра*|[Прототип страницы "Контакты"](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=460%3A691&scaling=scale-down-width)|


## Блок "Расписание"
### Страница блока "Расписание"

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице расписания|Предусловие: Открыта страница расписания|
|1. Пользователь видит заголовок "Расписание", функцию поиска с фильтрацией и список карточек театров.|1. Система отображает заголовок "Расписание", функцию поиска с фильтрацией и список карточек театров.|
|2. Карточки сортируются по дате и времени (по убыванию). Карточки располагаются по N штук в строке. Количество строк не ораничено|2. Система сортирует карточки по дате и времени (по убыванию). Система отображает список карточек событий, по N штук в строке. Количество строк не ораничено.|
|3. В карточке пользователь видит: фото, индикатор "избранное", название,"Оценка зрителей" в формате 0.00, общее количество отзывов, количество звезд и кнопка "Купить билеты". Пользователь переходит на страницу выбора даты и мест в зале, нажав на кнопку "Купить билеты"|3. В карточке спектакля система отображает: фото, индикатор "избранное", название, "Оценка зрителей" в формате 0.00, общее количество отзывов, количество звезд и кнопка "Купить билеты". Система позволяет переходить на страницу выбора даты и мест в зале через кнопку "Купить билеты".|
|4. Пользователь может добавлять спектакль в избранное, нажав на индикатор "Избранное" в правом верхнем углу. После нажатия на индикатор, его цвет меняется, а спектакль добавляется в раздел "Избранное" в личном кабинете.|4. Система добавляет спектакль в раздел "Избранное" в личном кабинете и меняет цвет индикатора.|
|*4.1 Если пользователь не авторизован, то, после нажатия на индикатор "Избранное", пользователь видит модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|*4.1 Если пользователь не авторизован, то, система не добавляет спектакль в избранное. Открывает модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|
|5. Пользователь может переходить в разделы, кликая по ним в меню навигации. Нажимая на логотип платформы, открывается главная страница. Нажимая на кнопку поиска, страница опускается к блоку поиска.|5. Система позволяет переходить на страницы разделов через меню навигации. Через логитип платформы идет переход на главную страницу. При нажатии на поиск система опускает страницу к полю поиска.|
|*Итог: пользователь может просматривать страницу "Расписание"*|[Прототип страницы расписание](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=601%3A14&scaling=scale-down-width)|

### Поиск с фильтрацией

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице расписания|Предусловие: Открыта страница расписания|
|1. Пользователь видит поле для ввода названия и кнопку поиска, кнопка для выбора театра, кнопку календаря для выбора даты.|1. Система позволяет вводить в поле поиска данные, выбирать театр и дату.|
|2. Пользователь вводит данные, выбирает театр, дату и нажимает кнопку поиска.|2. Система считывает введенные данные и делает поиск в БД.|
|*2.1 При нажании на кнопку "Выберите театр" открывается блок-окно со списком тетров (первая кнопка в модальном окне "Все"). Если пользователь не выбирает театр, то в результатах поиска видит результаты по всем театрам*|*2.1 При нажании на кнопку "Выберите театр" система открывает блок-окно со списком тетров (первая кнопка в модальном окне "Все"). Если театр не выбран, то по умолчанию поиск проходит по всем театрам*|
|*2.2 При нажании на календарь открывается блок-окно с календарем текущего и возможностью выбора месяца. Если пользователь не выбирает дату, то в результатах видит результаты по всем датам*|*2.2 При нажании на календарь система открывает блок-окно с календарем на текущий  и возможностью выбора другого месяц. Если дата не выбрана, то по умолчанию поиск проходит по всем датам*|
|3. Пользователь видит ниже панели поиска карточки спектаклей, найденные по запросу.|3. Система отображает найденные спектакли ниже панели поиска|
|*3.1 Если поиск не дал результатов, то пользователь видит текст "Поиск не дал результатов".*|*3.1 Если поиск не дал результатов, то система отображает текст "Поиск не дал результатов".*|
|*Итог: пользователь может искать спектакли по названию, дате и театру*|[Прототип страницы расписание](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=601%3A14&scaling=scale-down-width)|

### Страница выбора даты, мест и оплаты

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице расписания|Предусловие: Открыта страница расписания|
|1. Пользователь видит отсортированный по дате и времени список карточек спектаклей, в которых есть кнопка "Купить билеты". Пользователь нажимает кнопку "Купить билет". |1. Система сортирует карточки по дате и времени. Система открывает страницу для выбора даты, мест и оплаты.|
|2. Пользователь видит блок информации о спектакле: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", год, режиссер-постановщик, художник-постановщик, продолжительность, "Оценка зрителей" в формате 0.00, общее количество отзывов и количество звезд. Нажав на кнопку "Описание" пользователь переходит на страницу описания спектакля. Нажав на кнопку "Отзывы" пользователь переходит на страницу отзывов к спектаклю.|2. Система отображает блок информации о спектакле: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", год, режиссер-постановщик, художник-постановщик, продолжительность, "Оценка зрителей" в формате 0.00, общее количество отзывов и количество звезд. Через кнопку "Описание" возможен переход на страницу описания спектакля. Через кнопку "Отзывы" возможен переход на страницу отзывов к спектаклю.|
|3. Ниже блока информации о спектакле пользователь видит: N-количество кнопок (где написано "ДД.ММ и день недели"), календарь для выбора даты, посадочная схема зала для выбора мест (в левом верхнем углу указаны "день недели, дата, время, в правом верхнем углу указано "Цена билета: XXXX рублей").|3. Ниже блока информации о спектакле система отображает: N-количество кнопок (где написано "ДД.ММ и день недели"), календарь для выбора даты, посадочная схема зала для выбора мест (в левом верхнем углу указаны "день недели, дата, время, в правом верхнем углу указано "Цена билета: XXXX рублей").|
|4. Справа от посадочной схемы пользователь видит мини-чек к оплате: название спектакля, дата и время, театр, выбранные места, способ оплаты, сумма, кнопка "Перейти к оплате" и "Очистить". Нажав на кнопку "Перейти к оплате" пользователь переходит на страницу подтверждения оплаты. Нажав на кнопку "Очистить" все выбранные пользователем места сбрасываются, выбранные места и сумма становятся пустыми.|4. Справа от посадочной схемы система отображает мини-чек к оплате: название спектакля, дата и время, театр, выбранные места, способ оплаты, сумма, кнопка "Перейти к оплате" и "Очистить". Через кнопку "Перейти к оплате" система позволяет переходить на страницу подтверждения оплаты. Кнопку "Очистить" все выбранные места делает свободными. В блоке мини-чека выбранные места и сумма становятся пустыми.|
|5. Пользователь может добавлять спектакль в избранное, нажав на индикатор "Избранное" в правом верхнем углу. После нажатия на индикатор, его цвет меняется, а спектакль добавляется в раздел "Избранное" в личном кабинете.|5. Система добавляет спектакль в раздел "Избранное" в личном кабинете и меняет цвет индикатора.|
|*5.1 Если пользователь не авторизован, то, после нажатия на индикатор "Избранное", пользователь видит модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|*5.1 Если пользователь не авторизован, то, система не добавляет спектакль в избранное. Открывает модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|
|*Итог: пользователь может выбирать дату, места и переходить к подтверждению оплаты*|[Прототип выбора даты, мест и оплаты](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=241%3A209&scaling=scale-down-width)|

### Страница подтверждения оплаты

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице расписания|Предусловие: Открыта страница расписания|
|1. Пользователь выбирает спектакль и нажимает кнопку "Купить билеты". Открывается страница выбора даты, мест и оплаты.|1. Система открывает страницу выбора даты, мест и оплаты.|
|2. Пользователь выбирает дату, места и нажимает кнопку "Оплатить". Открывается страница подтверждения оплаты.|2. Система бронирует места, отображает сумму в мини-чеке. Открывает страницу подтверждения оплаты.|
|3. Пользователь видит: фото, название спектакля, театра, день недели, дату и время, выбранные билеты (ряд, место), итоговую сумму и кнопку "Оплатить". Нажав на кнопку "Оплатить", пользователь переходит на страницу оплаты.|4. Пользователь видит: фото, название спектакля, театра, день недели, дату и время, выбранные билеты (ряд, место), итоговую сумму и кнопку "Оплатить". Нажав на кнопку "Оплатить", пользователь переходит на страницу оплаты.|
|*3.1 Если пользователь не авторизован, то на странице подтверждения оплаты он видит: фото, название спектакля, театра, день недели, дату и время, выбранные билеты (ряд, место), итоговую сумму, **поле "Имя","Фамилия"** и кнопку "Перейти к оплате".*|*3.1 Если пользователь не авторизован, то на странице подтверждения оплаты система отображает: фото, название спектакля, театра, день недели, дату и время, выбранные билеты (ряд, место), итоговую сумму, **поле "Имя","Фамилия"** и кнопку "Перейти к оплате".*|
|4. На странице оплаты пользователь видит: номер заказа, сумму оплаты заказа, описание заказа, время до окончания сессии оплаты, поля для номера, срока действия, CVC/CVV карты. Ниже располагается чек-бокс с текстом "Сохранить карту для быстрой оплаты в дальнейшем" и кнопка "Оплата"|4. На странице оплаты система отображает: номер заказа, сумму оплаты заказа, описание заказа, время до окончания сессии оплаты, поля для номера, срока действия, CVC/CVV карты. Ниже располагается чек-бокс с текстом "Сохранить карту для быстрой оплаты в дальнейшем" и кнопка "Оплата".|
|4.1 Если пользователь не авторизован, то чек-бокс с текстом "Сохранить карту для быстрой оплаты в дальнейшем" пользователь не видит.| 4.1 Если пользователь не авторизован, то система не отображает чек-бокс с текстом "Сохранить карту для быстрой оплаты в дальнейшем".|
|*Итог: пользователь может выбирать дату, места и переходить к подтверждению оплаты*|[Прототип страницы подтверждения оплаты](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=244%3A0&scaling=min-zoom)|

### Страница описания спектакля

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице расписания|Предусловие: Открыта страница расписания|
|1. Пользователь видит отсортированный по дате и времени список карточек спектаклей. Пользователь нажимает на название спектакля и переходит на страницу спектакля. |1. Система сортирует карточки по дате и времени. Система открывает страницу спектакля.|
|2. Пользователь информацию о спектакле: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", год, режиссер-постановщик, художник-постановщик, продолжительность, "Оценка зрителей" в формате 0.00, общее количество отзывов и количество звезд. Нажав на кнопку "Описание" пользователь переходит на страницу описания спектакля. Нажав на кнопку "Отзывы" пользователь переходит на страницу отзывов к спектаклю.|2. Система отображает информацию о спектакле: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", год, режиссер-постановщик, художник-постановщик, продолжительность, "Оценка зрителей" в формате 0.00, общее количество отзывов и количество звезд. Через кнопку "Описание" возможен переход на страницу описания спектакля. Через кнопку "Отзывы" возможен переход на страницу отзывов к спектаклю.|
|3. Пользователь нажимает на кнопку "Описание" и видит описания спектакля.|3. Система отображает описания спектакля.|
|4. Пользователь видит: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", "Оценка зрителей" в формате 0.00, общее количество отзывов и звезд, описание спектакля.|4. Система отображает: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", "Оценка зрителей" в формате 0.00, общее количество отзывов и звезд, описание спектакля.|
|5. Пользователь может возвращаться с предыдущей странице, нажав на название спектакля. Может переходить к отзывам, нажам на кнопку "Отзывы".|5. Систем позволяет возвращаться с предыдущей странице, через название спектакля. Позволяет переходить к отзывам через кнопку "Отзывы".|
|6. Пользователь может добавлять спектакль в избранное, нажав на индикатор "Избранное" в правом верхнем углу. После нажатия на индикатор, его цвет меняется, а спектакль добавляется в раздел "Избранное" в личном кабинете.|6. Система добавляет спектакль в раздел "Избранное" в личном кабинете и меняет цвет индикатора.|
|*6.1 Если пользователь не авторизован, то, после нажатия на индикатор "Избранное", пользователь видит модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|*6.1 Если пользователь не авторизован, то, система не добавляет спектакль в избранное. Открывает модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|
|*Итог: пользователь просматривать описание спектакля, добавлять его в избранное и переходить на другие страницы.*|[Прототип страницы описания спектакля](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=254%3A246&scaling=scale-down-width)|

### Страница отзывов

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице расписания|Предусловие: Открыта страница расписания|
|1. Пользователь видит отсортированный по дате и времени список карточек спектаклей. Пользователь нажимает на название спектакля и переходит на страницу спектакля. |1. Система сортирует карточки по дате и времени. Система открывает страницу спектакля.|
|2. Пользователь информацию о спектакле: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", год, режиссер-постановщик, художник-постановщик, продолжительность, "Оценка зрителей" в формате 0.00, общее количество отзывов и количество звезд. Нажав на кнопку "Описание" пользователь переходит на страницу описания спектакля. Нажав на кнопку "Отзывы" пользователь переходит на страницу отзывов к спектаклю.|2. Система отображает информацию о спектакле: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", год, режиссер-постановщик, художник-постановщик, продолжительность, "Оценка зрителей" в формате 0.00, общее количество отзывов и количество звезд. Через кнопку "Описание" возможен переход на страницу описания спектакля. Через кнопку "Отзывы" возможен переход на страницу отзывов к спектаклю.|
|3. Пользователь нажимает на кнопку "Отзывы" и видит отсортированный по дате и времени (по убыванию) список отзывов.|3. Система сортирует список отзывов по дате и времени (по убыванию) и отображает его.|
|4. Пользователь видит: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", "Оценка зрителей" в формате 0.00, общее количество отзывов и звезд, кнопку "Добавить отзыв", список отзывов.|4. Система отображает: фото, название, индикатор "избранное", кнопка "Описание" и "Отзывы", "Оценка зрителей" в формате 0.00, общее количество отзывов и звезд, кнопку "Добавить отзыв", список отзывов.|
|5. Пользователь может возвращаться с предыдущей странице, нажав на название спектакля. Может переходить к описанию, нажав на кнопку "Описание".|5. Систем позволяет возвращаться с предыдущей странице, через название спектакля. Позволяет переходить к описанию через кнопку "Описание".|
|6. Пользователь может добавлять спектакль в избранное, нажав на индикатор "Избранное" в правом верхнем углу. После нажатия на индикатор, его цвет меняется, а спектакль добавляется в раздел "Избранное" в личном кабинете.|6. Система добавляет спектакль в раздел "Избранное" в личном кабинете и меняет цвет индикатора.|
|*6.1 Если пользователь не авторизован, то, после нажатия на индикатор "Избранное", пользователь видит модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе"*|*6.1 Если пользователь не авторизован, то, система не добавляет спектакль в избранное. Открывает модальное окно с текстом "Для добавления "спектакля_1" в избранное, авторизуйтесь в системе."*|
|*Итог: пользователь просматривать описание спектакля, добавлять его в избранное и переходить на другие страницы.*|[Прототип страницы описания спектакля](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=254%3A246&scaling=scale-down-width)|

### Покупка билета

|    Пользовательский сценарий                    |    Функциональный сценарий    |
|-------------------------------------------------|-------------------------------|
|Предусловие: Пользователь на странице расписания|Предусловие: Открыта страница расписания|
|1. Пользователь видит отсортированный по дате и времени список карточек спектаклей, в которых есть кнопка "Купить билеты". Пользователь нажимает кнопку "Купить билет". Открывается страница выбора даты, мест и оплаты. |1. Система сортирует карточки по дате и времени. Система открывает страницу для выбора даты, мест и оплаты.|
|2. Пользователь выбирает дату, места и нажимает кнопку "Оплатить". Открывается страница подтверждения оплаты.|2. Система бронирует места, отображает сумму в мини-чеке. Открывает страницу подтверждения оплаты.|
|*2.1 Пользователь может выбрать не более 5 мест. При нажатии на 6 место, ниже посадочной схемы пользователь увидит ошибку "Вы можете приобрести только 5 билетов"*|*2.1 Система на посадочной схеме позволяет выбирать только 5 мест. При выборе 6 места система выводит ошибку "Вы можете приобрести только 5 билетов". Система бронирует выбранные места. 10 минут после выбора мест их статус "Занято". Если оплата билета проходит, то статус не меняется. Если оплата не прошла, то через 10 минут место становится свободным.*|
|3. Пользователь видит чек к оплате и нажимает кнопку "Перейти к оплате".|3.Система отображает чек к оплате и позволяет переходить на страницу оплаты через кнопку "Перейти к оплате".|
|*3.1 Если пользователь не авторизован, то на странице подтверждения оплаты он видит чек к оплате и заполняет поле "Имя" и "Фамилия" и  нажимает кнопку "Перейти к оплате".*|*3.1 Если пользователь не авторизован, то на странице подтверждения оплаты система отображает чек, поля "Имя" и "Фамилия" и кнопку "Перейти к оплате". Через кнопку "Перейти к оплате" система позволяет перейти на страницу оплаты.*|
|*3.2 Если поле "Имя" и "Фамилия" заполнены неправильно, по ниже поля пользователь видит ошибки.*|*3.2 Система делает проверку заполненных данных. Если данные введены не верно, то система выдает ошибки.*|
|*3.3 Если поле "Имя" не соответствует требованиям, то под полем пользователь видит ошибки: "Имя должно состоять минимум из 2 букв", "Имя должно состоять максимум из 127 букв","Имя может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|*3.3 Если поле "Имя" не соответствует требованиям, то система выдает ошибки: "Имя должно состоять минимум из 2 букв", "Имя должно состоять максимум из 127 букв", "Имя может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|
|*3.4 Если поле "Фамилия" не соответствует требованиям, то под полем пользователь видит ошибки: "Фамилия должна состоять минимум из 2 букв", "Фамилия должна состоять максимум из 127 букв","Фамилия может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|*3.4 Если поле "Фамилия" не соответствует требованиям, то система выдает ошибки: "Фамилия должна состоять минимум из 2 букв", "Фамилия должна состоять максимум из 127 букв", "Фамилия может содержать только символы кириллицы", "Данное поле необходимо заполнить"*|
|4. Пользователь переходит на страницу оплаты, вводит данные банковской карты и нажимает кнопку "Оплатить"|4. Система отображает страницу оплаты, считывает данные и проводит транзакцию.|
|*4.1 Если пользователь не авторизован, то не видит чек-бокс для сохранения карты.*| *4.1 Если пользователь не авторизован, то система не отображает чек-бокс для сохранения карты.*|
|5. Пользователь видит модальное окно с текстом "Оплата прошла успешно. Для получения билета в кассе театра скажите имя и фамилию, либо код билета - *тут код билета*" и кнопкой "Ок". Нажав на кнопку "Ок", пользователь переходит на страницу блока "Расписание".|5. Система открывает модальное окно с текстом "Оплата прошла успешно. Для получения билета в кассе театра скажите имя и фамилию, либо код билета - *тут код билета* и кнопкой "Ок". Через кнопку "Ок", система позволяет переходить на страницу блока "Расписание".|
|*Итог: пользователь может купить билет онлайн.*|[Прототип страницы оплаты билета](https://www.figma.com/proto/n63ePP2OoWwd6LMuziovJ2/Prototype-Tomsk-ver.3?node-id=244%3A65&scaling=min-zoom)|



### Страница актера
### Отзыв
