# Test 09.05.2020

## Registration
### Предусловия группы тестов
```
request method = POST
route = http://host1813162.hostland.pro/api/register

Headers:  
    Key: Accept  
    Value: application/json   

Body:     
json
{
    "email": "{{email}}",
    "password": "{{password}}",
    "password_confirmation": "{{password}}"
}
```

### Тесты

При успешной регистрации не возвращается json файл
```
Предусловия: {{email}} = Ранее не зарегестрированный пользователь
             {{password}} = 123123qwe
             
Шаги: Послать API запрос на регистрацию 

Ожидаемый результат: Придёт json с
{
    "has_errors": false,
    "errors": [],
    "message": "Письмо для активации почты отправлено на ваш email адрес",
}

Фактический результат: json не приходит
```

При ошибке возвращается json файл не совпадающий с документацией
```
Предусловия: {{email}} = example2mail.com
             {{password}} = 123123
             
Шаги: Послать API запрос на регистрацию 

Ожидаемый результат: Придёт json с
{
    "has_errors": true,
    "errors": [
        {
            "type": "PasswordValidationError",
            "message": "Слишком короткий пароль, должно быть минимум 8 символов."
        },
        {
            "type": "PasswordValidationError",
            "message": "Пароль должен содержать хотя-бы одну букву в верхнем регистре."
        },
        {
            "type": "PasswordValidationError",
            "message": "Пароль должен содержать хотя-бы одну букву в нижнем регистре."
        },
        {
            "type": "EmailValidationError",
            "message": "E-mail адрес должен содержать символ @"
        }
    ]
}

Фактический результат: json 
{
    "message": "The given data was invalid.",
    "errors": {
        "email": [
            "The email must be a valid email address."
        ]
    }
}
Предложение: либо документацию изменить, либо ответный json исправить
```


