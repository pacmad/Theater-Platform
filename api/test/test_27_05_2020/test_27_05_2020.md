# Тестирование API  27.05.2020
# Ссылки на каждый блок<a name="Ссылки"></a>
1. [Registration](#Registration)
2. [Authorization](#Authorization)
3. [Logout](#Logout)
4. [Result](#Result)


# Registration <a name="Registration"></a>
[<-- Вернуться к списку](#Ссылки)
### Предусловия группы тестов

request method = POST  
route = http://host1813162.hostland.pro/api/register  
Headers:  
```
     Accept : application/json   
```
Body: json
```
{
    "email": "{{email}}",
    "name": "Ivan",
    "surname": "Ivanov",
    "password": "{{password}}",
    "password_confirmation": "{{password}}",
}
```

## Тест 1
Регистрация с валидными данными  
Успешно. Но в конце файла стоит запятая (в документации), а сервер присылает ответ без запятой. Хоть ответ сервера не совпадает с
документацией, но он является правильным по правилам формирования json. 
![Ошибка](https://schstp.github.io/Theater-Platform/api/test/test_27_05_2020/йцу1234.PNG)
* Предусловия:
```
{{email}} = <Ранее не зарегестрированный пользователь>  
{{password}} = 123123qwe
```
* Шаги:  
1) Отправить API запрос на сервер  

* Ожидаемый результат:  
json
```
{
    "has_errors": false,
    "errors": [],
    "message": "Регистрация прошла успешно. Вы были перенаправлены на страницу авторизации.",
}
```
* Фактический результат:  
json 
```
{
    "has_errors": false,
    "errors": [],
    "message": "Регистрация прошла успешно. Вы были перенаправлены на страницу авторизации."
}
```

## Тест 2
Невозможность регистрации без пароля  
ПРОВАЛ.
* Предусловия:
```
{{email}} = <Ранее не зарегестрированный пользователь>  
{{password}} = <Оставить пустым>
```
* Шаги:  
1) Отправить API запрос на сервер  

* Ожидаемый результат:  
В регистрации должно быть отказано.
json
```
{
    "has_errors": true,
    "message": "Указанные данные введены неверно.",
    "errors": {
        "email": [
            "Пользователь с таким email уже зарегистрирован."
        ],
        "password": [
            "Поле пароль не совпадает с полем подтверждения."
        ]
    }
}
```
* Фактический результат:  
json 
```
{
    "has_errors": false,
    "errors": [],
    "message": "Регистрация прошла успешно. Вы были перенаправлены на страницу авторизации."
}
```

## Тест 3
Невозможность регистрации с пустым полем подтверждения пароля  
ПРОВАЛ.
* Предусловия:
Для этого случая Body отличается и выглядит так:
```
{
    "email": "example@mail.com",
    "name": "Ivan",
    "surname": "Ivanov",
    "password": "somepassword",
    "password_confirmation": "somepassword",
}
```
* Шаги:  
1) Отправить API запрос на сервер 
2) Если записи на сервере нет, то ещё раз послать API запрос

* Ожидаемый результат:  
В регистрации должно быть отказано.
json
```
{
    "has_errors": true,
    "message": "Указанные данные введены неверно.",
    "errors": {
        "email": [
            "Пользователь с таким email уже зарегистрирован."
        ],
        "password": [
            "Поле пароль не совпадает с полем подтверждения."
        ]
    }
}
```
* Фактический результат:  
json 
```
{
    "has_errors": false,
    "errors": [],
    "message": "Регистрация прошла успешно. Вы были перенаправлены на страницу авторизации."
}
```
# Похоже, что сервер в любой ситуации отвечает, что пользователь создан.

# Authorization <a name="Authorization"></a>
[<-- Вернуться к списку](#Ссылки)
# Logout <a name="Logout"></a>
[<-- Вернуться к списку](#Ссылки)
# Result <a name="Result"></a>
[<-- Вернуться к списку](#Ссылки)

